\makeatletter
\@ifundefined{makeComparisonBarChartFourPTwo}{%
\newcommand\makeComparisonBarChartFourPTwo[6]{%
	\pgfplotstableread[col sep=comma]{#1}\table
	\begin{tikzpicture}
		\begin{axis}[SmallBarPlot, xticklabels from table={\table}{type}, ylabel=#2]
			\addplot [fill=blue!20, bar width=0.1] table [x expr=\coordindex*0.6 + 0.3, y=#3]{\table};
			\addlegendentry{#3}
			\addplot [fill=green!20, bar width=0.1] table [x expr=\coordindex*0.6 + 0.3, y=#4]{\table};
			\addlegendentry{#4}
			\addplot [fill=red!20, bar width=0.1] table [x expr=\coordindex*0.6 + 0.3, y=#5]{\table};
			\addlegendentry{#5} 
			\addplot [fill=purple!20, bar width=0.1] table [x expr=\coordindex*0.6 + 0.3, y=#6]{\table};
			\addlegendentry{#6}
			\legend{#3, #4, #5, #6}
		\end{axis}
	\end{tikzpicture} 
}
}
\makeatother
