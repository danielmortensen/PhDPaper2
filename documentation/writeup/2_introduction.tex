\section{Introduction}
\par  Battery powered electric motors offer many benefits over the internal combustion engine \cite{Mahmoud2016} such as reduced maintenance \cite{poornesh_comparative_2020}, zero emissions \cite{kato_comparative_2013}, and access to renewable energy \cite{cheng_smart_2020}, which have caused many transit authorities to adopt battery powered electric buses (BEBs). 
\par Despite their benefits, BEBs require more time to refuel than their non-electric counterparts, presenting logistical challenges for bus fleets. Therefore, following a route schedule which was developed for non-electric buses while staying charged is a primary concern that BEBs face, and must plan for energy use along routes, charge times and a limited number of chargers. 
\par One way in which charge times may be reduced is by charging a bus while it is in motion through dynamic charging. There are a number of ways to do this, including overhead \cite{csonka_optimization_2021} and inductive charging \cite{jeong_automatic_2018} \cite{balde_electric_2019}. An overhead charging scenario allows the bus to charge on overhead power lines while in motion. Inductive charging relies on specialized hardware in the roads that transfers energy to buses that pass overhead. Both methods remove the need to stop for service and allow an electric vehicle to stay in service indefinitely. Unfortunately, both methods require extensive infrastructure \cite{Alwesabi_2022_Robust} that may not be available, or is cost prohibitive to install.  
\par In the absence of infrastructure, \cite{jain_battery_2020} and \cite{xian_zhang_optimal_2016} have proposed methods that exchange depleted batteries for fresh ones. Such a method would eliminate both the logistical challenges of planning and the infrastructure dependence of dynamic charging. The only drawback, is that BEBs are not built with battery exchanges in mind, therefore the task can require specialized hardware, technical expertise, or automation, all of which add complexity and cost.  
\par One charge option that avoids both the infrastructure demands of dynamic charging and the technical difficulties of battery swapping is stationary charging, which plans rest periods into a bus's schedule during which that bus can charge. Stationary charging is the least invasive form of bus charging because it only requires charging hardware at specific locations and makes no exchanges to bus batteries. Prior work in this area addresses a number of problems, including distributed charging networks \cite{Nimalsiri2020}, bus availability, environmental impact \cite{zhou_bi-objective_2021}, route scheduling \cite{Rinalde_Mixed_2020}, battery health \cite{houbbadi_optimal_2019}, the cost of electricity \cite{Leou_optimal_2017}, and the cost of charging infrastructure \cite{Wei2018}.
\par One drawback to using a stationary charging solution is that it does require significant rest periods for charging. One way to decrease the charge intervals is to use high power chargers, which deliver more energy in a smaller period of time. However doing so places large power demands on electrical infrastructure \cite{stahleder_impact_2019} which may result in problems with network reliability \cite{deb_impact_2017} and require additional maintenance and upgrades, which increase the cost of energy \cite{boonraksa_impact_2019}. An effective charge plan must therefore balance the need to charge quickly with the desire to maintain a low power profile \cite{ojer_development_2020}.
\par The authors of \cite{qin_numerical_2016} and \cite{Wang2019} propose simple, heuristic approaches to reduce power demands from BEB fleets. Work done by \cite{bagherinezhad_spatio-temporal_2020} uses a mixed integer linear program (MILP) to solve for a solution, which addresses both when buses should charge, and where they should deploy. Finally, a paper by \cite{He_2019_Fast} provides a MILP framework for minimizing the cost of demand power and \cite{He_2022_Battery}, \cite{Liu_2022_Optimal}, and \cite{whitaker_network_nodate} minimize the cost from time of use tariffs. Each of the aforementioned methods focus on demand power in relation to electric bus fleets, but do not account for external activity on the grid, such as effects from electric trains, renewable energy devices, or other utilities which we refer to as ``uncontrolled loads''. Furthermore, methods which rely on discrete temporal representations \cite{whitaker_network_nodate} have large compute times for precise schedules.
\par The contributions for this paper are: First, integrate time of use tarrifs and demand charges into a single cost function. Second, increase the life span of charging infrastructure by accounting for the energy demands of uncontrolled loads in the charge plan. Third, provide precise schedule times by formulating the charge problem using a bin packing approach.
\par The rest of this paper is organized as follows: Section \ref{sec:4_formulation} discusses the basic problem formulation, Section \ref{sec:5_battery} discusses linear constraints that govern the behavior and limitations of the rate of charge. Section \ref{sec:uncontrolled} discusses how to incorporate uncontrolled loads into the optimization framework. Section \ref{sec:objective} explains how the objective function is formed, and Section \ref{sec:results} discusses performance.
